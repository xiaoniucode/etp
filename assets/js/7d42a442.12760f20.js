"use strict";(globalThis.webpackChunkdocusaurus_classic_typescript=globalThis.webpackChunkdocusaurus_classic_typescript||[]).push([[4765],{5395(e,s,n){n.d(s,{R:()=>c,x:()=>i});var t=n(7140);const l={},r=t.createContext(l);function c(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),t.createElement(r.Provider,{value:s},e.children)}},8769(e,s,n){n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"install/linux","title":"Linux","description":"etp\u670d\u52a1\u7aef\u4e00\u822c\u5b89\u88c5\u5728\u5177\u6709\u516c\u7f51IP\u7684Linux\u670d\u52a1\u5668\u4e0a\uff0c\u672c\u6587\u4ecb\u7ecd\u57fa\u4e8eLinux\u73af\u5883\u7684\u5b89\u88c5\u6559\u7a0b\u3002","source":"@site/docs/install/linux.md","sourceDirName":"install","slug":"/install/linux","permalink":"/etp/docs/install/linux","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/install/linux.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u5b89\u88c5","permalink":"/etp/docs/category/\u5b89\u88c5"},"next":{"title":"Mac","permalink":"/etp/docs/install/mac"}}');var l=n(5656),r=n(5395);const c={sidebar_position:1},i="Linux",d={},o=[{value:"\u65b9\u6cd5\u4e00\uff1a\u91c7\u7528nohup",id:"\u65b9\u6cd5\u4e00\u91c7\u7528nohup",level:2},{value:"\u65b9\u6cd5\u4e8c\uff1a\u91c7\u7528systemd",id:"\u65b9\u6cd5\u4e8c\u91c7\u7528systemd",level:2}];function a(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"linux",children:"Linux"})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"etp"}),"\u670d\u52a1\u7aef\u4e00\u822c\u5b89\u88c5\u5728\u5177\u6709",(0,l.jsx)(s.code,{children:"\u516c\u7f51IP"}),"\u7684Linux\u670d\u52a1\u5668\u4e0a\uff0c\u672c\u6587\u4ecb\u7ecd\u57fa\u4e8eLinux\u73af\u5883\u7684\u5b89\u88c5\u6559\u7a0b\u3002"]}),"\n",(0,l.jsx)(s.admonition,{title:"\u63d0\u793a",type:"tip",children:(0,l.jsxs)(s.p,{children:["\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9047\u5230\u95ee\u9898\uff0c\u53ef\u5148\u67e5\u9605 ",(0,l.jsx)(s.a,{href:"/etp/docs/faq/",children:"\u5e38\u89c1\u95ee\u9898"})," \u6587\u6863\u5bfb\u627e\u89e3\u51b3\u65b9\u6848\u3002"]})}),"\n",(0,l.jsx)(s.h2,{id:"\u65b9\u6cd5\u4e00\u91c7\u7528nohup",children:"\u65b9\u6cd5\u4e00\uff1a\u91c7\u7528nohup"}),"\n",(0,l.jsxs)(s.p,{children:["\u670d\u52a1\u7aef\u914d\u7f6e(",(0,l.jsx)(s.code,{children:"etps.toml"}),")\uff1a"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-toml",children:'host="0.0.0.0"\nbindPort = 9527\n'})}),"\n",(0,l.jsxs)(s.p,{children:["\u5ba2\u6237\u7aef\u914d\u7f6e(",(0,l.jsx)(s.code,{children:"etpc.toml"}),")\uff1a"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-toml",children:'serverAddr = "x.x.x.x"\nserverPort = 9527\nsecretKey = "your-secret-key"\n'})}),"\n",(0,l.jsx)(s.p,{children:"\u5c06\u53ef\u6267\u884c\u7a0b\u5e8f\u548ctoml\u914d\u7f6e\u6587\u4ef6\u653e\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u7136\u540e\u6267\u884c\u547d\u4ee4\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-powershell",children:"sudo nohup ./etps > /dev/null 2>&1 &\nsudo nohup ./etpc > /dev/null 2>&1 &\n"})}),"\n",(0,l.jsx)(s.p,{children:"\u6216\u8005"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-powershell",children:"sudo nohup ./etps -c etps.toml > /dev/null 2>&1 &\nsudo nohup ./etpc -c etpc.toml > /dev/null 2>&1 &\n"})}),"\n",(0,l.jsx)(s.h2,{id:"\u65b9\u6cd5\u4e8c\u91c7\u7528systemd",children:"\u65b9\u6cd5\u4e8c\uff1a\u91c7\u7528systemd"}),"\n",(0,l.jsx)(s.p,{children:"\u4e0b\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528systemd\u5b89\u88c5etp\u670d\u52a1\u7aef\u3002"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\u5b89\u88c5",(0,l.jsx)(s.code,{children:"systemd"}),"\n\u5982\u679c\u6ca1\u6709\u5b89\u88c5",(0,l.jsx)(s.code,{children:"systemd"}),"\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-powershell",children:"# CentOS/RHEL\nyum install systemd\n\n# Debian/Ubuntu\napt install systemd\n"})}),"\n",(0,l.jsxs)(s.ol,{start:"2",children:["\n",(0,l.jsxs)(s.li,{children:["\u521b\u5efa",(0,l.jsx)(s.code,{children:"etps.service"}),"\u670d\u52a1\u6587\u4ef6\n\u5728",(0,l.jsx)(s.code,{children:"/etc/systemd/system"})," \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a",(0,l.jsx)(s.code,{children:"etps.service"}),"\u670d\u52a1\u6587\u4ef6"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-powershell",children:"sudo vim /etc/systemd/system/etps.service\n"})}),"\n",(0,l.jsx)(s.p,{children:"\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-toml",children:"[Unit]\n# \u670d\u52a1\u540d\u79f0\uff0c\u53ef\u81ea\u5b9a\u4e49\nDescription = etp server\nAfter = network.target syslog.target\nWants = network.target\n\n[Service]\nType = simple\n# \u542f\u52a8etps\u7684\u547d\u4ee4\uff0c\u4fee\u6539\u4e3a\u81ea\u5df1\u7684etps\u7684\u6587\u4ef6\u8def\u5f84\nExecStart = /path/to/etps -c /path/to/etps.toml\n\n[Install]\nWantedBy = multi-user.target\n"})}),"\n",(0,l.jsxs)(s.ol,{start:"3",children:["\n",(0,l.jsxs)(s.li,{children:["\u4f7f\u7528",(0,l.jsx)(s.code,{children:"systemd"}),"\u547d\u4ee4\u7ba1\u7406",(0,l.jsx)(s.code,{children:"etps"}),"\u670d\u52a1"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-powershell",children:"# \u542f\u52a8\nsudo systemctl start etps\n# \u505c\u6b62\nsudo systemctl stop etps\n# \u91cd\u542f\nsudo systemctl restart etps\n# \u67e5\u770b\u72b6\u6001\nsudo systemctl status etps\n"})})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);