"use strict";(globalThis.webpackChunkdocusaurus_classic_typescript=globalThis.webpackChunkdocusaurus_classic_typescript||[]).push([[38],{3145:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/cert3-481d553e11e67205028ae63be536dac4.png"},4722:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"use-case/tls","title":"TLS\u52a0\u5bc6\u4f20\u8f93","description":"etp\u5f3a\u5236\u91c7\u7528TLSv1.3\u534f\u8bae","source":"@site/docs/use-case/tls.md","sourceDirName":"use-case","slug":"/use-case/tls","permalink":"/etp/docs/use-case/tls","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/use-case/tls.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u8bbf\u95ee\u5185\u7f51TCP\u670d\u52a1","permalink":"/etp/docs/use-case/tcp"},"next":{"title":"\u529f\u80fd\u7279\u6027","permalink":"/etp/docs/category/\u529f\u80fd\u7279\u6027"}}');var r=t(7259),c=t(9087);const i={sidebar_position:2},a="TLS\u52a0\u5bc6\u4f20\u8f93",o={},l=[{value:"\u5bc6\u94a5\u751f\u6210",id:"\u5bc6\u94a5\u751f\u6210",level:2},{value:"\u270d\ufe0f\u914d\u7f6e",id:"\ufe0f\u914d\u7f6e",level:2},{value:"\ud83d\udda5\ufe0f\u670d\u52a1\u7aef",id:"\ufe0f\u670d\u52a1\u7aef",level:3},{value:"\ud83d\udcbb\u5ba2\u6237\u7aef",id:"\u5ba2\u6237\u7aef",level:3}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"tls\u52a0\u5bc6\u4f20\u8f93",children:"TLS\u52a0\u5bc6\u4f20\u8f93"})}),"\n",(0,r.jsxs)(s.p,{children:["etp\u5f3a\u5236\u91c7\u7528",(0,r.jsx)(s.code,{children:"TLSv1.3"}),"\u534f\u8bae"]}),"\n",(0,r.jsx)(s.h2,{id:"\u5bc6\u94a5\u751f\u6210",children:"\u5bc6\u94a5\u751f\u6210"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\u4e0b\u8f7d\u5bc6\u94a5\u751f\u6210\u5de5\u5177: ",(0,r.jsx)(s.a,{href:"https://github.com/xiaoniucode/etp/tree/main/scripts/keytool",children:"keytool"})]}),"\n",(0,r.jsxs)(s.li,{children:["\u4e0b\u8f7d\u547d\u4ee4\u884c\u811a\u672c\uff1a",(0,r.jsx)(s.a,{href:"https://github.com/xiaoniucode/etp/tree/main/scripts/generate_ssl_cert.sh",children:"generate_ssl_cert.sh"})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"\u5c06\u4e0a\u9762\u4e0b\u8f7d\u7684\u4e24\u4e2a\u6587\u4ef6\u90fd\u653e\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u7136\u540e\u8fd0\u884c\u811a\u672c\u6587\u4ef6\u5feb\u901f\u751f\u6210\u5bc6\u94a5\u914d\u7f6e"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-js",children:"./generate_ssl_cert.sh \n"})}),"\n",(0,r.jsxs)(s.p,{children:["\u4e0b\u9762\u662f\u81ea\u52a8\u751f\u6210\u7684\u914d\u7f6e\uff0c\u5982\u679c\u9700\u8981\u81ea\u5b9a\u4e49\uff0c\u8bf7\u53c2\u8003",(0,r.jsx)(s.a,{href:"https://github.com/xiaoniucode/etp/blob/main/doc/code-gen.md",children:"\u6587\u6863"}),"\n",(0,r.jsx)(s.img,{alt:"cert1.png",src:t(6651).A+"",width:"819",height:"575"})]}),"\n",(0,r.jsxs)(s.p,{children:["\u8f93\u5165y\u4ee5\u540e\u4f1a\u81ea\u52a8\u751f\u6210\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u7684\u5bc6\u94a5\u548c\u8bc1\u4e66\n",(0,r.jsx)(s.img,{alt:"cert2.png",src:t(8320).A+"",width:"750",height:"1196"})]}),"\n",(0,r.jsx)(s.p,{children:"\u5bf9\u5e94\u7684\u5bc6\u94a5\u914d\u7f6e\u548c\u8bc1\u4e66\u4e5f\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u751f\u6210\u3002"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"cert3.png",src:t(3145).A+"",width:"294",height:"230"})}),"\n",(0,r.jsx)(s.h2,{id:"\ufe0f\u914d\u7f6e",children:"\u270d\ufe0f\u914d\u7f6e"}),"\n",(0,r.jsx)(s.h3,{id:"\ufe0f\u670d\u52a1\u7aef",children:"\ud83d\udda5\ufe0f\u670d\u52a1\u7aef"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-js",children:'bindPort = 9527\n\nssl = true\n[keystore]\npath = "/path/cert/server.p12"\nkeyPass = "your-keypass"\nstorePass = "your-storepass"\n    \n[[clients]]\nname = "macos"\nsecretKey = "your-secret-key"\n   \n[[clients.proxies]]\nname = "MySQL"\ntype = "tcp"\nlocalPort = 3306\nremotePort = 3307\n\n[[clients.proxies]]\nname = "Redis"\ntype = "tcp"\nlocalPort = 6379\nremotePort = 6380 \n'})}),"\n",(0,r.jsx)(s.h3,{id:"\u5ba2\u6237\u7aef",children:"\ud83d\udcbb\u5ba2\u6237\u7aef"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-js",children:'serverAddr = "x.x.x.x"\nserverPort = 9527\nsecretKey = "your-secret-key"\n\nssl = true\n[truststore]\npath = "/path/cert/client.p12"\nstorePass = "your-storepass"\n'})}),"\n",(0,r.jsxs)(s.p,{children:["\u26a0\ufe0f ",(0,r.jsx)(s.code,{children:"ssl=true / ssl=false"}),"\u5fc5\u987b\u5728\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u540c\u65f6\u8bbe\u7f6e\u5e76\u4fdd\u6301\u4e00\u81f4\uff01"]})]})}function p(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},6651:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/cert1-7d1fa99204f3fa01f37297269b6fc552.png"},8320:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/cert2-109248dacb57594af3a9ad40ec78640a.png"},9087:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>a});var n=t(6363);const r={},c=n.createContext(r);function i(e){const s=n.useContext(c);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(c.Provider,{value:s},e.children)}}}]);