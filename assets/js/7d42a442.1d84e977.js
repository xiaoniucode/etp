"use strict";(globalThis.webpackChunkdocusaurus_classic_typescript=globalThis.webpackChunkdocusaurus_classic_typescript||[]).push([[4765],{5395:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>i});var t=n(7140);const c={},r=t.createContext(c);function l(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),t.createElement(r.Provider,{value:s},e.children)}},8769:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"install/linux","title":"Linux","description":"etp\u670d\u52a1\u7aef\u4e00\u822c\u5b89\u88c5\u5728\u5177\u6709\u516c\u7f51IP\u7684Linux\u670d\u52a1\u5668\u4e0a\uff0c\u672c\u6587\u4ecb\u7ecd\u57fa\u4e8eLinux\u73af\u5883\u7684\u5b89\u88c5\u6559\u7a0b\u3002","source":"@site/docs/install/linux.md","sourceDirName":"install","slug":"/install/linux","permalink":"/etp/docs/install/linux","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/install/linux.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u5b89\u88c5","permalink":"/etp/docs/category/\u5b89\u88c5"},"next":{"title":"Mac","permalink":"/etp/docs/install/mac"}}');var c=n(5656),r=n(5395);const l={sidebar_position:1},i="Linux",d={},o=[{value:"\u65b9\u6cd5\u4e00\uff1a\u91c7\u7528nohup",id:"\u65b9\u6cd5\u4e00\u91c7\u7528nohup",level:2},{value:"\u65b9\u6cd5\u4e8c\uff1a\u91c7\u7528systemd",id:"\u65b9\u6cd5\u4e8c\u91c7\u7528systemd",level:2},{value:"\u65b9\u6cd5\u4e09\uff1a\u91c7\u7528Docker\u5bb9\u5668\u5316\u90e8\u7f72",id:"\u65b9\u6cd5\u4e09\u91c7\u7528docker\u5bb9\u5668\u5316\u90e8\u7f72",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.header,{children:(0,c.jsx)(s.h1,{id:"linux",children:"Linux"})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"etp"}),"\u670d\u52a1\u7aef\u4e00\u822c\u5b89\u88c5\u5728\u5177\u6709",(0,c.jsx)(s.code,{children:"\u516c\u7f51IP"}),"\u7684Linux\u670d\u52a1\u5668\u4e0a\uff0c\u672c\u6587\u4ecb\u7ecd\u57fa\u4e8eLinux\u73af\u5883\u7684\u5b89\u88c5\u6559\u7a0b\u3002"]}),"\n",(0,c.jsx)(s.h2,{id:"\u65b9\u6cd5\u4e00\u91c7\u7528nohup",children:"\u65b9\u6cd5\u4e00\uff1a\u91c7\u7528nohup"}),"\n",(0,c.jsx)(s.p,{children:"\u670d\u52a1\u7aef\u914d\u7f6e\uff1a"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-js",children:'etps.toml\nhost="0.0.0.0"\nbindPort = 9527\n'})}),"\n",(0,c.jsx)(s.p,{children:"\u5ba2\u6237\u7aef\u914d\u7f6e\uff1a"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-js",children:'etpc.toml\n\nserverAddr = "x.x.x.x"\nserverPort = 9527\nsecretKey = "your-secret-key"\n'})}),"\n",(0,c.jsx)(s.p,{children:"\u5c06\u53ef\u6267\u884c\u7a0b\u5e8f\u548ctoml\u914d\u7f6e\u6587\u4ef6\u653e\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u7136\u540e\u6267\u884c\u547d\u4ee4\uff1a"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-js",children:"sudo nohup ./etps & #\u542f\u52a8\u670d\u52a1\u7aef\nsudo nohup ./etpc & #\u542f\u52a8\u5ba2\u6237\u7aef\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u6216\u8005"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-js",children:"sudo nohup ./etps -c ./etps.toml & #\u542f\u52a8\u670d\u52a1\u7aef\nsudo nohup ./etpc -c ./etpc.toml & #\u542f\u52a8\u5ba2\u6237\u7aef\n"})}),"\n",(0,c.jsx)(s.h2,{id:"\u65b9\u6cd5\u4e8c\u91c7\u7528systemd",children:"\u65b9\u6cd5\u4e8c\uff1a\u91c7\u7528systemd"}),"\n",(0,c.jsx)(s.p,{children:"\u4e0b\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528systemd\u5b89\u88c5etp\u670d\u52a1\u7aef\u3002"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:["\u5b89\u88c5",(0,c.jsx)(s.code,{children:"systemd"}),"\n\u5982\u679c\u6ca1\u6709\u5b89\u88c5",(0,c.jsx)(s.code,{children:"systemd"}),"\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a"]}),"\n"]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-js",children:"# CentOS/RHEL\nyum install systemd\n\n# Debian/Ubuntu\napt install systemd\n"})}),"\n",(0,c.jsxs)(s.ol,{start:"2",children:["\n",(0,c.jsxs)(s.li,{children:["\u521b\u5efa",(0,c.jsx)(s.code,{children:"etps.service"}),"\u670d\u52a1\u6587\u4ef6\n\u5728",(0,c.jsx)(s.code,{children:"/etc/systemd/system"})," \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a",(0,c.jsx)(s.code,{children:"etps.service"}),"\u670d\u52a1\u6587\u4ef6"]}),"\n"]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-js",children:"sudo vim /etc/systemd/system/etps.service\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-js",children:"[Unit]\n# \u670d\u52a1\u540d\u79f0\uff0c\u53ef\u81ea\u5b9a\u4e49\nDescription = etp server\nAfter = network.target syslog.target\nWants = network.target\n\n[Service]\nType = simple\n# \u542f\u52a8etps\u7684\u547d\u4ee4\uff0c\u4fee\u6539\u4e3a\u81ea\u5df1\u7684etps\u7684\u6587\u4ef6\u8def\u5f84\nExecStart = /path/to/etps -c /path/to/etps.toml\n\n[Install]\nWantedBy = multi-user.target\n"})}),"\n",(0,c.jsxs)(s.ol,{start:"3",children:["\n",(0,c.jsxs)(s.li,{children:["\u4f7f\u7528",(0,c.jsx)(s.code,{children:"systemd"}),"\u547d\u4ee4\u7ba1\u7406",(0,c.jsx)(s.code,{children:"etps"}),"\u670d\u52a1"]}),"\n"]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"# \u542f\u52a8\nsudo systemctl start etps\n# \u505c\u6b62\nsudo systemctl stop etps\n# \u91cd\u542f\nsudo systemctl restart etps\n# \u67e5\u770b\u72b6\u6001\nsudo systemctl status etps\n"})}),"\n",(0,c.jsx)(s.h2,{id:"\u65b9\u6cd5\u4e09\u91c7\u7528docker\u5bb9\u5668\u5316\u90e8\u7f72",children:"\u65b9\u6cd5\u4e09\uff1a\u91c7\u7528Docker\u5bb9\u5668\u5316\u90e8\u7f72"}),"\n",(0,c.jsxs)(s.p,{children:["\u4ece\u53d1\u884c\u7248\u672c\u4e2d\u5c06\u4e0b\u8f7d\u4e0b\u6765\u7684",(0,c.jsx)(s.code,{children:"jar"}),"\u6587\u4ef6\u6784\u5efa\u4e3a",(0,c.jsx)(s.code,{children:"docker"}),"\u955c\u50cf\u5b89\u88c5\u5373\u53ef\u3002"]})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}}}]);