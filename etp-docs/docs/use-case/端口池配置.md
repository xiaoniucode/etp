---
sidebar_position: 6
---

# 端口池配置

从`etp v0.4.0`版本开始，支持在服务端配置文件`etps.toml`中指定公网端口的分配范围(remotePort)，当前版本暂不支持在管理界面中进行动态配置，端口池首次初始化后会被加载到db中，后续以`etp.db`为主，如果需要修改，需要删除db，或者使用SQLite数据库管理工具进行修改（后续完善这个问题）.
- 端口范围默认是：[1024,49151]
- 限制范围：[1,65535]

```toml
[port_range]
start = 8600 #开始端口
end = 8609 #结束端口
```
对于使用`docker`安装etp服务端的用户，需要在启动容器的时候`指定端口映射`，这样才能被外部访问，案例如下：
```yaml
version: '3.8'
services:
  etps:
    image: xiaoniucode/etps:latest
    container_name: etps
    restart: unless-stopped
    ports:
      - "8020:8020"     # Web管理界面
      - "9527:9527"     # 客户端通信端口
      - "8600-8609:8600-8609"  # 指定端口范围映射
```

:::warning 提示 
不管使用哪种方式安装服务端，都需要在腾讯云、阿里云、或其他云服务器厂商后台服务器`安全规则`中开放对应范围的端口。
:::
